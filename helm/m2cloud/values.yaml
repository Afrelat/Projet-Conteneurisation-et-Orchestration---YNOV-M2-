# Global configuration
global:
  namespace: m2cloud
  imageRegistry: m2cloud
  imagePullPolicy: IfNotPresent

# Service Account
serviceAccount:
  create: true
  name: m2cloud-sa

# TLS Configuration
tls:
  enabled: true
  secretName: tls-secret

# Ingress Configuration
ingress:
  enabled: true
  className: nginx
  hosts:
    web: m2cloud.local
    api: api.m2cloud.local

# Web Application
web:
  enabled: true
  replicaCount: 2
  image:
    repository: m2cloud/web
    tag: latest
  resources:
    requests:
      cpu: 4m
      memory: 900Mi
    limits:
      cpu: "1"
      memory: 2000Mi
  hpa:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
  probes:
    liveness:
      path: /health
      initialDelaySeconds: 30
      periodSeconds: 10
    readiness:
      path: /health/ready
      initialDelaySeconds: 10
      periodSeconds: 5

# Applicants API
applicantsApi:
  enabled: true
  replicaCount: 2
  image:
    repository: m2cloud/applicants-api
    tag: latest
  resources:
    requests:
      cpu: 500m
      memory: 500Mi
    limits:
      cpu: "1"
      memory: 1500Mi
  hpa:
    enabled: true
    minReplicas: 2
    maxReplicas: 8
    targetCPUUtilizationPercentage: 70

# Jobs API
jobsApi:
  enabled: true
  replicaCount: 2
  image:
    repository: m2cloud/jobs-api
    tag: latest
  resources:
    requests:
      cpu: 500m
      memory: 500Mi
    limits:
      cpu: "1"
      memory: 1500Mi
  hpa:
    enabled: true
    minReplicas: 2
    maxReplicas: 8
    targetCPUUtilizationPercentage: 70

# Identity API
identityApi:
  enabled: true
  replicaCount: 2
  image:
    repository: m2cloud/identity-api
    tag: latest
  resources:
    requests:
      cpu: 500m
      memory: 500Mi
    limits:
      cpu: "1"
      memory: 1500Mi
  hpa:
    enabled: true
    minReplicas: 2
    maxReplicas: 6
    targetCPUUtilizationPercentage: 70

# SQL Server
sqlData:
  enabled: true
  image:
    repository: mcr.microsoft.com/mssql/server
    tag: 2022-latest
  resources:
    requests:
      cpu: 4m
      memory: 500Mi
    limits:
      cpu: "1"
      memory: 1500Mi
  persistence:
    enabled: true
    size: 10Gi
  secrets:
    saPassword: YourStrong@Passw0rd

# RabbitMQ
rabbitmq:
  enabled: true
  image:
    repository: rabbitmq
    tag: 3-management
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  secrets:
    user: guest
    password: guest

# Network Policies
networkPolicy:
  enabled: true

# Secrets
secrets:
  jwtSecret: your-super-secret-jwt-key-here-min-32-chars
